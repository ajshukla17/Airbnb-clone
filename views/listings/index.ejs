<% layout("/layouts/boilerplate") -%>


<style>

</style>    

    <div id="filters" class="mr-4">
        <div class="filter">
            <div><i class="fa-solid fa-fire"></i></div>
            <p>Trending</p>
        </div>
        <div class="filter">
            <div><i class="fa-solid fa-bed"></i></div>
            <p>Rooms</p>
        </div>
        <div class="filter">
            <div><i class="fa-solid fa-mug-saucer"></i></div>
            <p>Breakfast</p>
        </div>
        <div class="filter">
            <div><i class="fa-solid fa-umbrella-beach"></i></div>
            <p>Beach</p>
        </div>
        <div class="filter">
            <div><i class="fa-solid fa-house"></i></div>
            <p>Cabins</p>
        </div>
        <div class="filter">
            <div><i class="fa-solid fa-star"></i></div>
            <p>fav places</p>
        </div>
        <div class="filter">
            <div><i class="fa-solid fa-bookmark"></i></div>
            <p>bookmarks</p>
        </div>
        <div class="filter">
            <div><i class="fa-solid fa-city"></i></div>
            <p>City</p>
        </div>
        <div class="filter">
            <div><i class="fa-solid fa-earth-americas"></i></div>
            <p>places</p>
        </div>
        <div class="filter">
            <div><i class="fa-solid fa-business-time"></i></div>
            <p>Meetings</p>
        </div>
        <div class="filter">
            <div><i class="fa-solid fa-mug-saucer"></i></div>
            <p>Coffe places</p>
        </div>
        
        
        

        <div class="tax-switch mr-4">
        <div class="form-check-reverse form-switch ">
            <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
            <label class="form-check-label" for="flexSwitchCheckDefault">Display Total after taxes</label>
          </div>
        </div>
    </div>

    <hr >



        <div class="row row-cols-lg-3 row-cols-md-3 row-cols-sm-1 mt-3">
            <% for(let listing of alllistings){ %>
                <a href="/listings/<%= listing._id %>" class="listing-link">  
                    <div class="card">
                        <img src="<%= listing.image.url %>" class="card-img-top" style="height: 20rem; width: 5rem;"
                            alt="listing image">
                        <div class="card-img-overlay">
                        </div>    
                        <div class="card-body">
                            <p class="card-text">
                                <br/>
                                    <%= listing.title%>
                                <br>
                                Price: â‚¹<%= (listing.price || 0).toLocaleString("en-IN") %>/night
                                <i class="hidden" > &nbsp; +18% GST</i>


                            </p>
                        </div>
                    </div>
                </a>

                <% } %>
        </div>


        <script>
            let priceswitch =document.getElementById("flexSwitchCheckDefault");
            priceswitch.addEventListener("click", ()=>{
                let gsts =document.getElementsByClassName("hidden");
                 for(gst of gsts){
                    if(gst.style.display != "inline"){
                        gst.style.display="inline";
                    }else{
                        gst.style.display="none";
                    }
                    

                }
                    
                

            })

        </script>